Here’s a clean, end-to-end path to: (1) stand up your Replit Agent–built backend, (2) deploy it on Render, and (3) hook it into Shopify (OAuth, webhooks, optional App Proxy). I’ll assume a Python FastAPI service, but the same steps work for Node/Express with equivalent commands.

0) Prereqs

Accounts: Replit, GitHub (or GitLab/Bitbucket), Render, and either a Shopify store (for a custom app) or a Shopify Partner account (for a public app).

Decide app type: Custom app (single store; fastest) or Public app (multiple stores; requires Partner account & app review). Authentication follows Shopify’s standard OAuth flow either way. 
Shopify
+1

1) Build your Agent app in Replit

In Replit, create your project (you can even ask Replit Agent to scaffold a FastAPI or Express API). 
Replit Docs
+1
DataCamp

Add minimal API routes:

GET /healthz → returns 200 for Render health checks. 
Render
Render

GET /auth and GET /auth/callback → Shopify OAuth (authorization code grant). 
Shopify

POST /webhooks → receives Shopify webhooks and verifies HMAC. 
Shopify

Example (FastAPI) — main.py

import os, hmac, base64, hashlib
from urllib.parse import urlencode
from fastapi import FastAPI, Request, HTTPException
from fastapi.responses import RedirectResponse, JSONResponse
import httpx

app = FastAPI()

API_KEY    = os.environ["SHOPIFY_API_KEY"]
API_SECRET = os.environ["SHOPIFY_API_SECRET"]
SCOPES     = os.environ.get("SHOPIFY_SCOPES", "read_products")
APP_URL    = os.environ["APP_URL"]  # e.g., https://your-svc.onrender.com

TOKENS = {}  # replace with DB in production

@app.get("/healthz")
async def healthz():
    return {"ok": True}

@app.get("/auth")
async def auth(shop: str, state: str = "nonce"):
    params = {
        "client_id": API_KEY,
        "scope": SCOPES,
        "redirect_uri": f"{APP_URL}/auth/callback",
        "state": state
    }
    return RedirectResponse(f"https://{shop}/admin/oauth/authorize?" + urlencode(params))

@app.get("/auth/callback")
async def auth_cb(shop: str, code: str, state: str):
    token_url = f"https://{shop}/admin/oauth/access_token"
    async with httpx.AsyncClient() as client:
        r = await client.post(token_url, json={
            "client_id": API_KEY,
            "client_secret": API_SECRET,
            "code": code
        })
        r.raise_for_status()
        TOKENS[shop] = r.json()["access_token"]
    return JSONResponse({"installed": True, "shop": shop})

def verify_hmac(request: Request, raw: bytes) -> bool:
    h = request.headers.get("X-Shopify-Hmac-Sha256") or ""
    digest = base64.b64encode(hmac.new(API_SECRET.encode(), raw, hashlib.sha256).digest()).decode()
    return hmac.compare_digest(digest, h)

@app.post("/webhooks")
async def webhooks(request: Request):
    raw = await request.body()
    if not verify_hmac(request, raw):
        raise HTTPException(status_code=401, detail="Invalid HMAC")
    # TODO: handle webhook topic from headers (e.g., X-Shopify-Topic)
    return JSONResponse({"ok": True})


Notes:

OAuth endpoints and required params come from Shopify’s “authorization code grant” docs.

Webhook verification uses the X-Shopify-Hmac-SHA256 header and app secret, per Shopify’s webhook guide. 
Shopify
+1
Shopify Developer Community Forums

Add a requirements.txt:

fastapi
uvicorn[standard]
httpx


Push this project to GitHub from Replit.

2) Deploy on Render

In Render, Create → Web Service → Connect your repo.

Build command: pip install -r requirements.txt

Start command: uvicorn main:app --host 0.0.0.0 --port $PORT
(This is Render’s recommended FastAPI setup.) 
Render

Set a simple health check path to /healthz so Render knows your app is up. A 2xx/3xx response marks the instance healthy. 
Render

Add environment variables in Settings → Environment:

SHOPIFY_API_KEY

SHOPIFY_API_SECRET

SHOPIFY_SCOPES (e.g., read_products,read_orders)

APP_URL = your Render URL (e.g., https://your-svc.onrender.com)
(Render provides a straightforward UI for env vars and secret files.) 
Render

Optional: if you ever need static egress IPs to whitelist (not needed for Shopify inbound webhooks), Render surfaces them in Connect → Outbound. 
Render

When the deploy finishes, note your live URL https://<service>.onrender.com.

3) Connect to Shopify
A) Create the app in Shopify

Custom app (single store): In your store admin, go to Apps → Develop apps → Create an app. Configure the App URL and Allowed redirection URL(s) to your Render domain, e.g.:

App URL: https://<service>.onrender.com

Redirect: https://<service>.onrender.com/auth/callback

Public app (multiple stores): In the Partner Dashboard, create an app. You’ll use the same URLs and OAuth flow.
Either way, Shopify apps authenticate via OAuth; ensure your scopes match your app’s needs. 
Shopify
+1
Shopify Community

B) Test the OAuth install

Hit:

https://<your-store>.myshopify.com/admin/oauth/authorize
  ?client_id=<SHOPIFY_API_KEY>
  &scope=<comma,separated,scopes>
  &redirect_uri=https://<service>.onrender.com/auth/callback
  &state=nonce


After you approve, Shopify redirects to /auth/callback, and your code exchanges the code for an access token at /admin/oauth/access_token. Keep the token per-shop (DB recommended). 
Shopify

C) Receive + verify webhooks

Add webhooks (via Admin UI or via API after install) to point at POST https://<service>.onrender.com/webhooks.

Verify each incoming payload with the X-Shopify-Hmac-SHA256 header and your app secret as shown in the snippet. (Use the raw request body.) 
Shopify
Shopify Developer Community Forums
johnschmidt.de

D) (Optional) Surface backend data on the storefront with App Proxy

In your app settings, enable App Proxy; set a subpath like /apps/agent and proxy URL https://<service>.onrender.com/proxy.

Your endpoint validates the proxy signature before returning data; Shopify provides helpers in their Remix libs if you’re using that stack. 
Shopify
+1

4) Quick “smoke test” checklist

Open https://<service>.onrender.com/healthz → returns { "ok": true }. (Confirms Render health checks pass.) 
Render

Start the install (/auth?shop=<your-store>.myshopify.com) → redirects to Shopify, then back with a token saved. 
Shopify

From your backend, call Shopify Admin API with the token (e.g., read shop or products) to confirm scopes. 
Shopify

Trigger a test webhook (e.g., create a product/order) → your /webhooks handler receives & verifies HMAC. 
Shopify

Common gotchas (and fixes)

Redirect URL mismatch → Ensure your Allowed redirection URL(s) in Shopify exactly match the redirect_uri you use. 
Shopify Community

Webhook 401 → You must compute HMAC with the raw request body and app secret, then compare to X-Shopify-Hmac-SHA256. 
Shopify
Shopify Developer Community Forums

Render health check failing → Expose a fast /healthz route that returns 200; set that path in the service’s settings. 
Render

Env vars not loaded → Add them in Render’s Environment panel (or Env Groups) and redeploy. 
Render

Want a Node/Express variant or a Render render.yaml (IaC) blueprint?

Say the word and I’ll drop a ready-to-deploy template for your stack.

ChatGPT can make mistakes. Check important info.